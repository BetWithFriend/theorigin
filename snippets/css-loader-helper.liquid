{%- comment -%}
  CSS Loader Helper - Ensures CSS preloading works across all browsers
  Usage: {% render 'css-loader-helper' %}
{%- endcomment -%}

<script>
  // Polyfill for CSS preload with onload (ensures compatibility)
  (function() {
    var supportsPreload = false;
    try {
      supportsPreload = document.createElement('link').relList.supports('preload');
    } catch(e) {}
    
    if (!supportsPreload) {
      // Fallback for browsers that don't support preload
      var preloadLinks = document.querySelectorAll('link[rel="preload"][as="style"]');
      preloadLinks.forEach(function(link) {
        link.setAttribute('rel', 'stylesheet');
        link.removeAttribute('onload');
      });
    }
  })();
</script>

